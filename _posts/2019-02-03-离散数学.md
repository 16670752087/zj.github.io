---
layout: post
title: 离散数学
categories: [ACM,Template]
tags: ICPC模板
date: 2019-02-03 18:00:06
---
{% raw %}
## 归并排序求逆序对
```cpp
ll merge_sort(ll *b, ll *e) //int存答案可能会爆
{
	if (e - b < 2)
		return 0;
	ll i = 0, j = 0, *m = b + (e - b) / 2, ans = merge_sort(b, m) + merge_sort(m, e);
	vector<ll> l(b, m), r(m, e);
	while (i < l.size() && j < r.size())
	{
		if (r[j] < l[i])
			*(b++) = r[j++], ans += l.size() - i;
		else
			*(b++) = l[i++];
	}
	while (i < l.size())
		*(b++) = l[i++];
	while (j < r.size())
		*(b++) = r[j++];
	return ans;
}
```
## 约瑟夫问题
```cpp
ll josephus(ll n, ll k) //编号0~n-1，每k个出列，时间复杂度O(min(n,k))
{
	if (n < 3)
		return k % n;
	if (n < k)
		return (Josephus(n - 1, k) + k) % n;
	ll ret = Josephus(n - n / k, k) - n % k;
	return ret < 0 ? ret + n : ret + ret / (k - 1);
}
```
## 蔡勒公式
$w=(\lfloor\frac{c}{4}\rfloor-2c+y+\lfloor\frac{y}{4}\rfloor+\lfloor\frac{13(m+1)}{5}\rfloor+d-1)\mod7$

w：$0,1,\ldots,6$对应周日，周一，$\ldots$，周六

c：世纪减1（即年份前两位数）。

y：年份后两位数。

m：月（$3\leq m\leq14$，即在蔡勒公式中，1、2月要看作上一年的13、14 月来计算）。

d：日。
## 曼哈顿距离的变换
$|x1 −x2|+|y1 −y2| = max(|(x1 + y1)−(x2 + y2)|,|(x1 −y1)−(x2 −y2)|)$
## 皮克定理
顶点坐标均是整点（或说正方形格点）的简单多边形中，面积S和内部格点数目n、边上格点数目m的满足关系$S=n+\frac{m}{2}-1$。
{% endraw %}