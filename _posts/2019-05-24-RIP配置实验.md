---
categories: 计算机网络
---
## 实验题目
RIP配置实验
## 实验目的
学习RIPv2的配置方法。
## 配置命令
### 配置RIPv2协议。
```
       R1(config)# router rip
       R1(config-router)# version 2
       R1(config-router)# network 192.168.2.0   ! 发布属于有类网络的网络的接口的子网
       R1(config-router)# network 192.168.3.0
```
### 把交换机接口变为三层接口，然后就可以配置IP地址。（本实验要把交换机当路由器用）
```
   (config)#interface f0/1
   (config-if)#no switchport
   (config-if)#ip address  192.168.1.5  255.255.255.0
```
### 为环回接口配置IP地址。环回接口是路由器内部的软接口，除非路由器失效，否则，环回接口一直有效。
```
   (config)#interface loopback 0              ！号码范围：0~2147483647
   (config-if)#ip address  192.168.1.5  255.255.255.0
```
### 取消自动汇总
```
   (config-router)#router rip
       (config-router)#auto-summary       !启动自动汇总
       (config-router)#no auto-summary    !取消自动汇总
```
### 配置水平分割
```
   (config)#interface f0/1
       (config-if)#ip split-horizon        ! 配置水平分割(默认)
       (config-if)#no ip split-horizon     ! 取消水平分割
```
### 显示调试信息
```
       #debug ip rip      ！显示rip调试信息
       #no debug ip rip   ！停止显示rip调试信息
       #no debug all      ！停止显示所有调试信息
```
## 实验任务
### 按下图配置RIP路由协议。


#### 1A、PC1 ping PC2和PC3后截屏

#### 1B、Router1的路由表

#### 1C、Router2的路由表

#### 1D、把Router1、Router2的Running-Config保存到文件s1.txt

#### 1E、拔掉Router2的F0/1的线后显示Router1的路由表

### 配置RIPv2（连续子网）。把两台交换机当成路由器使用，并配置三层接口。如下图所示,把192.168.1.0/24划分成四个子网(子网1~子网4)，并和192.168.2.0/24、192.168.3.0/24一起配置成七个网络，见下图。路由器和交换机均设置为自动汇总（默认）。请先在下图标注网络号、接口名和接口IP地址(keyi 利用已有的输入位置.)，然后进行配置。

#### 2A、PC1 ping PC2和PC3后截屏

#### 2B、Router1的路由表

#### 2C、Router2的路由表

#### 2D、Switch1的路由表

#### 2E、Switch2的路由表

#### 2F、把Router1、Router2、Switch1、Switch2的Running-Config保存到文件s2.txt

### 接上一步,调整配为下图的非连续子网，标注网络号、接口名和接口IP地址。路由器和交换机均设置为自动汇总（默认）。


#### 3A、PC1 pingPC2和PC3后截屏

#### 3B、PC1依次ping到PC3的路径上的IP地址后截屏

#### 3C、Router1的路由表

#### 3D、Router2的路由表

#### 3E、Switch1的路由表

#### 3F、Switch2的路由表

#### 3G、把Router1、Router2、Switch1、Switch2的Running-Config分别保存到文件s3.txt

### 接上一步，在出问题的路由器或交换机上取消自动汇总，然后：
#### 4A、PC1依次ping PC2和PC3后截屏

#### 4B、PC1依次ping到PC3的路径上的IP地址后截屏

#### 4C、Router1的路由表

#### 4D、Router2的路由表

#### 4E、Switch1的路由表

#### 4F、Switch2的路由表

#### 4G、把Router1、Router2、Switch1、Switch2的Running-Config分别保存到文件s4.txt

### 接上一步，在所有路由器或交换机上取消自动汇总，对于Switch1通往Switch2的接口，在调试状态下先配置为水平分割(默认)，查看和记录发出的RIP Update分组，然后再取消水平分割，查看和记录发出的RIP Update分组。分析在这两种情况下RIP Update分组差异。
#### 5A、PC1依次ping PC2和PC3后截屏

#### 5B、PC1依次ping到PC3的路径上的IP地址后截屏

#### 5C、Router1的路由表

#### 5D、Router2的路由表

#### 5E、Switch1的路由表

#### 5F、Switch2的路由表

#### 5G、有水平分割时的RIP Update分组

#### 5H、取消水平分割时的RIP Update分组

#### 5I、把Router1、Router2、Switch1、Switch2的Running-Config分别保存到文件s5.txt

### 接上一步，拔掉Switch2接PC2的线，查看所有路由器或交换机的路由表的变化。
#### 6A、Router1的路由表

#### 6B、Router2的路由表

#### 6C、Switch1的路由表

#### 6D、Switch2的路由表

#### 6E、把Router1、Router2、Switch1、Switch2的Running-Config分别保存到文件s6.txt

## 实验分析
### 通过分析步骤[3]的路由表，解释[3B]某些IP的ping不通的原因。
### 把步骤[4B]和步骤[3B]所得结果进行对比,并进行解释。
### 分析在步骤[5G]和[5H]的两种情况下RIP Update分组差异。

## 实验体会
写出实验过程中的问题，思考及解决方法，简述实验体会（如果有的话）。要求每个同学分别写并署名。
